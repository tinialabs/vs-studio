{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/extension.ts","webpack:///external \"vscode\"","webpack:///./src/github.ts","webpack:///./node_modules/uuid/dist/esm-browser/index.js","webpack:///./node_modules/uuid/dist/esm-browser/v1.js","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/uuid/dist/esm-browser/bytesToUuid.js","webpack:///./node_modules/uuid/dist/esm-browser/v3.js","webpack:///./node_modules/uuid/dist/esm-browser/v35.js","webpack:///./node_modules/uuid/dist/esm-browser/md5.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js","webpack:///./node_modules/uuid/dist/esm-browser/v5.js","webpack:///./node_modules/uuid/dist/esm-browser/sha1.js","webpack:///./src/common/keychain.ts","webpack:///./src/common/logger.ts","webpack:////Volumes/DATA/projects/vscode-web/vscode/build/polyfills/vscode-nls.js","webpack:///external \"keytar\"","webpack:///./src/githubServer.ts","webpack:///./node_modules/node-fetch/browser.js","webpack:///./src/common/utils.ts","webpack:////Volumes/DATA/projects/vscode-web/vscode/build/polyfills/vscode-extension-telemetry.js","webpack:///./src/experimentationService.ts","webpack:///./node_modules/vscode-tas-client/index.js","webpack:///./node_modules/vscode-tas-client/vscode-tas-client/VSCodeTasClient.js","webpack:///./node_modules/vscode-tas-client/vscode-tas-client/VSCodeFilterProvider.js","webpack:///./node_modules/tas-client/index.js","webpack:///./node_modules/tas-client/tas-client/ExperimentationService.js","webpack:///./node_modules/tas-client/tas-client/FeatureProvider/TasApiFeatureProvider.js","webpack:///./node_modules/tas-client/tas-client/FeatureProvider/FilteredFeatureProvider.js","webpack:///./node_modules/tas-client/tas-client/FeatureProvider/BaseFeatureProvider.js","webpack:///./node_modules/tas-client/tas-client/Util/AxiosHttpClient.js","webpack:///./node_modules/axios/index.js","webpack:///./node_modules/axios/lib/axios.js","webpack:///./node_modules/axios/lib/utils.js","webpack:///./node_modules/axios/lib/helpers/bind.js","webpack:///./node_modules/axios/lib/core/Axios.js","webpack:///./node_modules/axios/lib/helpers/buildURL.js","webpack:///./node_modules/axios/lib/core/InterceptorManager.js","webpack:///./node_modules/axios/lib/core/dispatchRequest.js","webpack:///./node_modules/axios/lib/core/transformData.js","webpack:///./node_modules/axios/lib/cancel/isCancel.js","webpack:///./node_modules/axios/lib/defaults.js","webpack:///./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack:///./node_modules/axios/lib/adapters/xhr.js","webpack:///./node_modules/axios/lib/core/settle.js","webpack:///./node_modules/axios/lib/core/createError.js","webpack:///./node_modules/axios/lib/core/enhanceError.js","webpack:///./node_modules/axios/lib/helpers/cookies.js","webpack:///./node_modules/axios/lib/core/buildFullPath.js","webpack:///./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack:///./node_modules/axios/lib/helpers/combineURLs.js","webpack:///./node_modules/axios/lib/helpers/parseHeaders.js","webpack:///./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack:///./node_modules/axios/lib/core/mergeConfig.js","webpack:///./node_modules/axios/lib/cancel/Cancel.js","webpack:///./node_modules/axios/lib/cancel/CancelToken.js","webpack:///./node_modules/axios/lib/helpers/spread.js","webpack:///./node_modules/axios/lib/helpers/isAxiosError.js","webpack:///./node_modules/tas-client/tas-client/ExperimentationServiceAutoPolling.js","webpack:///./node_modules/tas-client/tas-client/ExperimentationServiceBase.js","webpack:///./node_modules/tas-client/tas-client/Util/MemoryKeyValueStorage.js","webpack:///./node_modules/tas-client/tas-client/Util/PollingService.js","webpack:///./node_modules/vscode-tas-client/vscode-tas-client/MementoKeyValueStorage.js","webpack:///./node_modules/vscode-tas-client/vscode-tas-client/TelemetryDisabledExperimentationService.js"],"names":[],"mappings":"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AiB,gBAAgB;AACjC;AACA;;AAEA;AACA;;AAEO;AACA;AACQ;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;;AAEA;AACA,uBAAuB,UAAU;AACjC;AACA;AACA;;AAEA,kBAAkB,+DAAW;AAC7B,GAAG;;;AAGH;AACA,6BAA6B;AAC7B,GAAG,eAAe;;;AAGlB;AACA;AACA;AACA,C;;;;;;;AC9DA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;;AAElD;;AAEA,mBAAmB,gBAAgB;AACnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,aAAa;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;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C5D,wBAAwB,mBAAO,CAAC,EAAqC;AACrE;AACA;AACA,6BAA6B,mBAAO,CAAC,EAA0C;AAC/E;AACA,iC;;;;;;;ACVa;AACb,8CAA8C,cAAc;AAC5D,+BAA+B,mBAAO,CAAC,EAAwB;AAC/D,qBAAqB,mBAAO,CAAC,EAAY;AACzC,eAAe,mBAAO,CAAC,CAAQ;AAC/B,iCAAiC,mBAAO,CAAC,EAA0B;AACnE,kDAAkD,mBAAO,CAAC,EAA2C;AACrG;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2C;;;;;;;ACjEa;AACb,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,CAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oDAAoD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,+EAA+E;AAChF,gD;;;;;;;ACxHa;AACb;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,+BAA+B,mBAAO,CAAC,EAAqC;AAC5E;AACA,iC;;;;;;;ACPa;AACb,8CAA8C,cAAc;AAC5D,gCAAgC,mBAAO,CAAC,EAAyC;AACjF,0BAA0B,mBAAO,CAAC,EAAwB;AAC1D,4CAA4C,mBAAO,CAAC,EAAqC;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kD;;;;;;;AChCa;AACb,8CAA8C,cAAc;AAC5D,kCAAkC,mBAAO,CAAC,EAA2B;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,mBAAmB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iD;;;;;;;ACvDa;AACb,8CAA8C,cAAc;AAC5D,8BAA8B,mBAAO,CAAC,EAAuB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mD;;;;;;;AC3Ca;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+C;;;;;;;AC7Ba;AACb,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,EAAO;AAC/B;AACA;AACA;AACA;AACA;AACA,gFAAgF,YAAY,eAAe;AAC3G;AACA;AACA;AACA,2C;;;;;;ACZA,iBAAiB,mBAAO,CAAC,EAAa,E;;;;;;;ACAzB;;AAEb,YAAY,mBAAO,CAAC,EAAS;AAC7B,WAAW,mBAAO,CAAC,EAAgB;AACnC,YAAY,mBAAO,CAAC,EAAc;AAClC,kBAAkB,mBAAO,CAAC,EAAoB;AAC9C,eAAe,mBAAO,CAAC,EAAY;;AAEnC;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,eAAe,mBAAO,CAAC,EAAiB;AACxC,oBAAoB,mBAAO,CAAC,EAAsB;AAClD,iBAAiB,mBAAO,CAAC,EAAmB;;AAE5C;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,EAAkB;;AAEzC;AACA,qBAAqB,mBAAO,CAAC,EAAwB;;AAErD;;AAEA;AACA;;;;;;;;ACvDa;;AAEb,WAAW,mBAAO,CAAC,EAAgB;;AAEnC;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C,2BAA2B;AAC3B;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,4BAA4B;AAC5B,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9Va;;AAEb;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;;;;;;;;ACVa;;AAEb,YAAY,mBAAO,CAAC,EAAY;AAChC,eAAe,mBAAO,CAAC,EAAqB;AAC5C,yBAAyB,mBAAO,CAAC,EAAsB;AACvD,sBAAsB,mBAAO,CAAC,EAAmB;AACjD,kBAAkB,mBAAO,CAAC,EAAe;;AAEzC;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA,yBAAyB;AACzB,KAAK;AACL;AACA,CAAC;;AAED;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;AAED;;;;;;;;AC9Fa;;AAEb,YAAY,mBAAO,CAAC,EAAY;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;ACrEa;;AAEb,YAAY,mBAAO,CAAC,EAAY;;AAEhC;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;ACnDa;;AAEb,YAAY,mBAAO,CAAC,EAAY;AAChC,oBAAoB,mBAAO,CAAC,EAAiB;AAC7C,eAAe,mBAAO,CAAC,EAAoB;AAC3C,eAAe,mBAAO,CAAC,EAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B,uCAAuC;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;;;;;;;AC9Ea;;AAEb,YAAY,mBAAO,CAAC,EAAY;;AAEhC;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,MAAM;AACjB,WAAW,eAAe;AAC1B,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;ACnBa;;AAEb;AACA;AACA;;;;;;;;ACJa;;AAEb,YAAY,mBAAO,CAAC,EAAS;AAC7B,0BAA0B,mBAAO,CAAC,EAA+B;;AAEjE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,EAAgB;AACtC,GAAG;AACH;AACA,cAAc,mBAAO,CAAC,EAAiB;AACvC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,OAAO,YAAY;AACnB;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;;;;;;;;ACjGa;;AAEb,YAAY,mBAAO,CAAC,EAAU;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACXa;;AAEb,YAAY,mBAAO,CAAC,EAAY;AAChC,aAAa,mBAAO,CAAC,EAAkB;AACvC,cAAc,mBAAO,CAAC,EAAsB;AAC5C,eAAe,mBAAO,CAAC,EAAuB;AAC9C,oBAAoB,mBAAO,CAAC,EAAuB;AACnD,mBAAmB,mBAAO,CAAC,EAA2B;AACtD,sBAAsB,mBAAO,CAAC,EAA8B;AAC5D,kBAAkB,mBAAO,CAAC,EAAqB;;AAE/C;AACA;AACA;AACA;;AAEA;AACA,4CAA4C;AAC5C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;;;;;;;AClLa;;AAEb,kBAAkB,mBAAO,CAAC,EAAe;;AAEzC;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACxBa;;AAEb,mBAAmB,mBAAO,CAAC,EAAgB;;AAE3C;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;;;;;;;ACjBa;;AAEb;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzCa;;AAEb,YAAY,mBAAO,CAAC,EAAY;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0CAA0C;AAC1C,SAAS;;AAET;AACA,4DAA4D,wBAAwB;AACpF;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,kCAAkC;AAClC,+BAA+B,aAAa,EAAE;AAC9C;AACA;AACA,KAAK;AACL;;;;;;;;ACpDa;;AAEb,oBAAoB,mBAAO,CAAC,EAA0B;AACtD,kBAAkB,mBAAO,CAAC,EAAwB;;AAElD;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnBa;;AAEb;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACba;;AAEb;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACba;;AAEb,YAAY,mBAAO,CAAC,EAAY;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,eAAe;;AAEhC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;ACpDa;;AAEb,YAAY,mBAAO,CAAC,EAAY;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;ACnEa;;AAEb,YAAY,mBAAO,CAAC,EAAU;;AAE9B;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,2BAA2B;AAC3B,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;;;;;;;ACtFa;;AAEb;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;;;;;;AClBa;;AAEb,aAAa,mBAAO,CAAC,EAAU;;AAE/B;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACxDa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC1Ba;;AAEb;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;;;;;;;ACVa;AACb,8CAA8C,cAAc;AAC5D,qCAAqC,mBAAO,CAAC,EAA8B;AAC3E,yBAAyB,mBAAO,CAAC,EAAuB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6D;;;;;;;ACrDa;AACb,8CAA8C,cAAc;AAC5D,gCAAgC,mBAAO,CAAC,EAA8B;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+GAA+G;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,SAAS,GAAG,KAAK;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sD;;;;;;;ACzPa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iD;;;;;;;ACjBa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,QAAQ,EAAE,eAAe,QAAQ,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,wCAAwC;AACxC,wCAAwC;AACxC;AACA;AACA;AACA;AACA,0C;;;;;;;ACpCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kD;;;;;;;ACfa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mE","file":"extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport { GitHubAuthenticationProvider, onDidChangeSessions } from './github';\nimport { uriHandler } from './githubServer';\nimport Logger from './common/logger';\nimport TelemetryReporter from 'vscode-extension-telemetry';\nimport { createExperimentationService, ExperimentationTelemetry } from './experimentationService';\n\nexport async function activate(context: vscode.ExtensionContext) {\n\tconst { name, version, aiKey } = require('../package.json') as { name: string, version: string, aiKey: string };\n\tconst telemetryReporter = new ExperimentationTelemetry(new TelemetryReporter(name, version, aiKey));\n\n\tconst experimentationService = await createExperimentationService(context, telemetryReporter);\n\tawait experimentationService.initialFetch;\n\n\tcontext.subscriptions.push(vscode.window.registerUriHandler(uriHandler));\n\tconst loginService = new GitHubAuthenticationProvider(context, telemetryReporter);\n\n\tawait loginService.initialize(context);\n\n\tcontext.subscriptions.push(vscode.commands.registerCommand('github.provide-token', () => {\n\t\treturn loginService.manuallyProvideToken();\n\t}));\n\n\tcontext.subscriptions.push(vscode.authentication.registerAuthenticationProvider('github', 'GitHub', {\n\t\tonDidChangeSessions: onDidChangeSessions.event,\n\t\tgetSessions: (scopes?: string[]) => loginService.getSessions(scopes),\n\t\tcreateSession: async (scopeList: string[]) => {\n\t\t\ttry {\n\t\t\t\t/* __GDPR__\n\t\t\t\t\t\"login\" : { }\n\t\t\t\t*/\n\t\t\t\ttelemetryReporter.sendTelemetryEvent('login');\n\n\t\t\t\tconst session = await loginService.createSession(scopeList.sort().join(' '));\n\t\t\t\tLogger.info('Login success!');\n\t\t\t\tonDidChangeSessions.fire({ added: [session], removed: [], changed: [] });\n\t\t\t\treturn session;\n\t\t\t} catch (e) {\n\t\t\t\t// If login was cancelled, do not notify user.\n\t\t\t\tif (e.message === 'Cancelled') {\n\t\t\t\t\t/* __GDPR__\n\t\t\t\t\t\t\"loginCancelled\" : { }\n\t\t\t\t\t*/\n\t\t\t\t\ttelemetryReporter.sendTelemetryEvent('loginCancelled');\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t/* __GDPR__\n\t\t\t\t\t\"loginFailed\" : { }\n\t\t\t\t*/\n\t\t\t\ttelemetryReporter.sendTelemetryEvent('loginFailed');\n\n\t\t\t\tvscode.window.showErrorMessage(`Sign in failed: ${e}`);\n\t\t\t\tLogger.error(e);\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t},\n\t\tremoveSession: async (id: string) => {\n\t\t\ttry {\n\t\t\t\t/* __GDPR__\n\t\t\t\t\t\"logout\" : { }\n\t\t\t\t*/\n\t\t\t\ttelemetryReporter.sendTelemetryEvent('logout');\n\n\t\t\t\tconst session = await loginService.removeSession(id);\n\t\t\t\tif (session) {\n\t\t\t\t\tonDidChangeSessions.fire({ added: [], removed: [session], changed: [] });\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t/* __GDPR__\n\t\t\t\t\t\"logoutFailed\" : { }\n\t\t\t\t*/\n\t\t\t\ttelemetryReporter.sendTelemetryEvent('logoutFailed');\n\n\t\t\t\tvscode.window.showErrorMessage(`Sign out failed: ${e}`);\n\t\t\t\tLogger.error(e);\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t}, { supportsMultipleAccounts: false }));\n\n\treturn;\n}\n\n// this method is called when your extension is deactivated\nexport function deactivate() { }\n","module.exports = require(\"vscode\");","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport { v4 as uuid } from 'uuid';\nimport { Keychain } from './common/keychain';\nimport { GitHubServer, NETWORK_ERROR } from './githubServer';\nimport Logger from './common/logger';\nimport { arrayEquals } from './common/utils';\nimport { ExperimentationTelemetry } from './experimentationService';\n\nexport const onDidChangeSessions = new vscode.EventEmitter<vscode.AuthenticationProviderAuthenticationSessionsChangeEvent>();\n\ninterface SessionData {\n\tid: string;\n\taccount?: {\n\t\tlabel?: string;\n\t\tdisplayName?: string;\n\t\tid: string;\n\t}\n\tscopes: string[];\n\taccessToken: string;\n}\n\nexport class GitHubAuthenticationProvider {\n\tprivate _sessions: vscode.AuthenticationSession[] = [];\n\tprivate _githubServer: GitHubServer;\n\n\tprivate _keychain: Keychain;\n\n\tconstructor(context: vscode.ExtensionContext, telemetryReporter: ExperimentationTelemetry) {\n\t\tthis._keychain = new Keychain(context);\n\t\tthis._githubServer = new GitHubServer(telemetryReporter);\n\t}\n\n\tpublic async initialize(context: vscode.ExtensionContext): Promise<void> {\n\t\ttry {\n\t\t\tthis._sessions = await this.readSessions();\n\t\t\tawait this.verifySessions();\n\t\t} catch (e) {\n\t\t\t// Ignore, network request failed\n\t\t}\n\n\t\tcontext.subscriptions.push(context.secrets.onDidChange(() => this.checkForUpdates()));\n\t}\n\n\tasync getSessions(scopes?: string[]): Promise<vscode.AuthenticationSession[]> {\n\t\treturn scopes\n\t\t\t? this._sessions.filter(session => arrayEquals(session.scopes, scopes))\n\t\t\t: this._sessions;\n\t}\n\n\tprivate async verifySessions(): Promise<void> {\n\t\tconst verifiedSessions: vscode.AuthenticationSession[] = [];\n\t\tconst verificationPromises = this._sessions.map(async session => {\n\t\t\ttry {\n\t\t\t\tawait this._githubServer.getUserInfo(session.accessToken);\n\t\t\t\tthis._githubServer.checkIsEdu(session.accessToken);\n\t\t\t\tverifiedSessions.push(session);\n\t\t\t} catch (e) {\n\t\t\t\t// Remove sessions that return unauthorized response\n\t\t\t\tif (e.message !== 'Unauthorized') {\n\t\t\t\t\tverifiedSessions.push(session);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tPromise.all(verificationPromises).then(_ => {\n\t\t\tif (this._sessions.length !== verifiedSessions.length) {\n\t\t\t\tthis._sessions = verifiedSessions;\n\t\t\t\tthis.storeSessions();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async checkForUpdates() {\n\t\tlet storedSessions: vscode.AuthenticationSession[];\n\t\ttry {\n\t\t\tstoredSessions = await this.readSessions();\n\t\t} catch (e) {\n\t\t\t// Ignore, network request failed\n\t\t\treturn;\n\t\t}\n\n\t\tconst added: vscode.AuthenticationSession[] = [];\n\t\tconst removed: vscode.AuthenticationSession[] = [];\n\n\t\tstoredSessions.forEach(session => {\n\t\t\tconst matchesExisting = this._sessions.some(s => s.id === session.id);\n\t\t\t// Another window added a session to the keychain, add it to our state as well\n\t\t\tif (!matchesExisting) {\n\t\t\t\tLogger.info('Adding session found in keychain');\n\t\t\t\tthis._sessions.push(session);\n\t\t\t\tadded.push(session);\n\t\t\t}\n\t\t});\n\n\t\tthis._sessions.map(session => {\n\t\t\tconst matchesExisting = storedSessions.some(s => s.id === session.id);\n\t\t\t// Another window has logged out, remove from our state\n\t\t\tif (!matchesExisting) {\n\t\t\t\tLogger.info('Removing session no longer found in keychain');\n\t\t\t\tconst sessionIndex = this._sessions.findIndex(s => s.id === session.id);\n\t\t\t\tif (sessionIndex > -1) {\n\t\t\t\t\tthis._sessions.splice(sessionIndex, 1);\n\t\t\t\t}\n\n\t\t\t\tremoved.push(session);\n\t\t\t}\n\t\t});\n\n\t\tif (added.length || removed.length) {\n\t\t\tonDidChangeSessions.fire({ added, removed, changed: [] });\n\t\t}\n\t}\n\n\tprivate async readSessions(): Promise<vscode.AuthenticationSession[]> {\n\t\tconst storedSessions = await this._keychain.getToken() || await this._keychain.tryMigrate();\n\t\tif (storedSessions) {\n\t\t\ttry {\n\t\t\t\tconst sessionData: SessionData[] = JSON.parse(storedSessions);\n\t\t\t\tconst sessionPromises = sessionData.map(async (session: SessionData): Promise<vscode.AuthenticationSession> => {\n\t\t\t\t\tconst needsUserInfo = !session.account;\n\t\t\t\t\tlet userInfo: { id: string, accountName: string };\n\t\t\t\t\tif (needsUserInfo) {\n\t\t\t\t\t\tuserInfo = await this._githubServer.getUserInfo(session.accessToken);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: session.id,\n\t\t\t\t\t\taccount: {\n\t\t\t\t\t\t\tlabel: session.account\n\t\t\t\t\t\t\t\t? session.account.label || session.account.displayName!\n\t\t\t\t\t\t\t\t: userInfo!.accountName,\n\t\t\t\t\t\t\tid: session.account?.id ?? userInfo!.id\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscopes: session.scopes,\n\t\t\t\t\t\taccessToken: session.accessToken\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\treturn Promise.all(sessionPromises);\n\t\t\t} catch (e) {\n\t\t\t\tif (e === NETWORK_ERROR) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\n\t\t\t\tLogger.error(`Error reading sessions: ${e}`);\n\t\t\t\tawait this._keychain.deleteToken();\n\t\t\t}\n\t\t}\n\n\t\treturn [];\n\t}\n\n\tprivate async storeSessions(): Promise<void> {\n\t\tawait this._keychain.setToken(JSON.stringify(this._sessions));\n\t}\n\n\tget sessions(): vscode.AuthenticationSession[] {\n\t\treturn this._sessions;\n\t}\n\n\tpublic async createSession(scopes: string): Promise<vscode.AuthenticationSession> {\n\t\tconst token = await this._githubServer.login(scopes);\n\t\tconst session = await this.tokenToSession(token, scopes.split(' '));\n\t\tthis._githubServer.checkIsEdu(token);\n\t\tawait this.setToken(session);\n\t\treturn session;\n\t}\n\n\tpublic async manuallyProvideToken(): Promise<void> {\n\t\tthis._githubServer.manuallyProvideToken();\n\t}\n\n\tprivate async tokenToSession(token: string, scopes: string[]): Promise<vscode.AuthenticationSession> {\n\t\tconst userInfo = await this._githubServer.getUserInfo(token);\n\t\treturn {\n\t\t\tid: uuid(),\n\t\t\taccessToken: token,\n\t\t\taccount: { label: userInfo.accountName, id: userInfo.id },\n\t\t\tscopes\n\t\t};\n\t}\n\n\tprivate async setToken(session: vscode.AuthenticationSession): Promise<void> {\n\t\tconst sessionIndex = this._sessions.findIndex(s => s.id === session.id);\n\t\tif (sessionIndex > -1) {\n\t\t\tthis._sessions.splice(sessionIndex, 1, session);\n\t\t} else {\n\t\t\tthis._sessions.push(session);\n\t\t}\n\n\t\tawait this.storeSessions();\n\t}\n\n\tpublic async removeSession(id: string): Promise<vscode.AuthenticationSession | undefined> {\n\t\tLogger.info(`Logging out of ${id}`);\n\t\tconst sessionIndex = this._sessions.findIndex(session => session.id === id);\n\t\tlet session: vscode.AuthenticationSession | undefined;\n\t\tif (sessionIndex > -1) {\n\t\t\tsession = this._sessions[sessionIndex];\n\t\t\tthis._sessions.splice(sessionIndex, 1);\n\t\t} else {\n\t\t\tLogger.error('Session not found');\n\t\t}\n\n\t\tawait this.storeSessions();\n\t\treturn session;\n\t}\n}\n","export { default as v1 } from './v1.js';\nexport { default as v3 } from './v3.js';\nexport { default as v4 } from './v4.js';\nexport { default as v5 } from './v5.js';","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || bytesToUuid(b);\n}\n\nexport default v1;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  return (bth[buf[i + 0]] + bth[buf[i + 1]] + bth[buf[i + 2]] + bth[buf[i + 3]] + '-' + bth[buf[i + 4]] + bth[buf[i + 5]] + '-' + bth[buf[i + 6]] + bth[buf[i + 7]] + '-' + bth[buf[i + 8]] + bth[buf[i + 9]] + '-' + bth[buf[i + 10]] + bth[buf[i + 11]] + bth[buf[i + 12]] + bth[buf[i + 13]] + bth[buf[i + 14]] + bth[buf[i + 15]]).toLowerCase();\n}\n\nexport default bytesToUuid;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import bytesToUuid from './bytesToUuid.js';\n\nfunction uuidToBytes(uuid) {\n  // Note: We assume we're being passed a valid uuid string\n  var bytes = [];\n  uuid.replace(/[a-fA-F0-9]{2}/g, function (hex) {\n    bytes.push(parseInt(hex, 16));\n  });\n  return bytes;\n}\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var off = buf && offset || 0;\n    if (typeof value === 'string') value = stringToBytes(value);\n    if (typeof namespace === 'string') namespace = uuidToBytes(namespace);\n\n    if (!Array.isArray(value)) {\n      throw TypeError('value must be an array of bytes');\n    }\n\n    if (!Array.isArray(namespace) || namespace.length !== 16) {\n      throw TypeError('namespace must be uuid string or an Array of 16 byte values');\n    } // Per 4.3\n\n\n    var bytes = hashfunc(namespace.concat(value));\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      for (var idx = 0; idx < 16; ++idx) {\n        buf[off + idx] = bytes[idx];\n      }\n    }\n\n    return buf || bytesToUuid(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  if (typeof options === 'string') {\n    buf = options === 'binary' ? new Uint8Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    var start = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[start + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return bytesToUuid(rnds);\n}\n\nexport default v4;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n// keytar depends on a native module shipped in vscode, so this is\n// how we load it\nimport type * as keytarType from 'keytar';\nimport * as vscode from 'vscode';\nimport Logger from './logger';\nimport * as nls from 'vscode-nls';\n\nconst localize = nls.loadMessageBundle();\n\nfunction getKeytar(): Keytar | undefined {\n\ttry {\n\t\treturn require('keytar');\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n\n\treturn undefined;\n}\n\nexport type Keytar = {\n\tgetPassword: typeof keytarType['getPassword'];\n\tsetPassword: typeof keytarType['setPassword'];\n\tdeletePassword: typeof keytarType['deletePassword'];\n};\n\nconst SERVICE_ID = `github.auth`;\n\nexport class Keychain {\n\tconstructor(private context: vscode.ExtensionContext) { }\n\tasync setToken(token: string): Promise<void> {\n\t\ttry {\n\t\t\treturn await this.context.secrets.store(SERVICE_ID, token);\n\t\t} catch (e) {\n\t\t\t// Ignore\n\t\t\tLogger.error(`Setting token failed: ${e}`);\n\t\t\tconst troubleshooting = localize('troubleshooting', \"Troubleshooting Guide\");\n\t\t\tconst result = await vscode.window.showErrorMessage(localize('keychainWriteError', \"Writing login information to the keychain failed with error '{0}'.\", e.message), troubleshooting);\n\t\t\tif (result === troubleshooting) {\n\t\t\t\tvscode.env.openExternal(vscode.Uri.parse('https://code.visualstudio.com/docs/editor/settings-sync#_troubleshooting-keychain-issues'));\n\t\t\t}\n\t\t}\n\t}\n\n\tasync getToken(): Promise<string | null | undefined> {\n\t\ttry {\n\t\t\treturn await this.context.secrets.get(SERVICE_ID);\n\t\t} catch (e) {\n\t\t\t// Ignore\n\t\t\tLogger.error(`Getting token failed: ${e}`);\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t}\n\n\tasync deleteToken(): Promise<void> {\n\t\ttry {\n\t\t\treturn await this.context.secrets.delete(SERVICE_ID);\n\t\t} catch (e) {\n\t\t\t// Ignore\n\t\t\tLogger.error(`Deleting token failed: ${e}`);\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t}\n\n\tasync tryMigrate(): Promise<string | null | undefined> {\n\t\ttry {\n\t\t\tconst keytar = getKeytar();\n\t\t\tif (!keytar) {\n\t\t\t\tthrow new Error('keytar unavailable');\n\t\t\t}\n\n\t\t\tconst oldValue = await keytar.getPassword(`${vscode.env.uriScheme}-github.login`, 'account');\n\t\t\tif (oldValue) {\n\t\t\t\tawait this.setToken(oldValue);\n\t\t\t\tawait keytar.deletePassword(`${vscode.env.uriScheme}-github.login`, 'account');\n\t\t\t}\n\n\t\t\treturn oldValue;\n\t\t} catch (_) {\n\t\t\t// Ignore\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\n\ntype LogLevel = 'Trace' | 'Info' | 'Error';\n\nclass Log {\n\tprivate output: vscode.OutputChannel;\n\n\tconstructor() {\n\t\tthis.output = vscode.window.createOutputChannel('GitHub Authentication');\n\t}\n\n\tprivate data2String(data: any): string {\n\t\tif (data instanceof Error) {\n\t\t\treturn data.stack || data.message;\n\t\t}\n\t\tif (data.success === false && data.message) {\n\t\t\treturn data.message;\n\t\t}\n\t\treturn data.toString();\n\t}\n\n\tpublic info(message: string, data?: any): void {\n\t\tthis.logLevel('Info', message, data);\n\t}\n\n\tpublic error(message: string, data?: any): void {\n\t\tthis.logLevel('Error', message, data);\n\t}\n\n\tpublic logLevel(level: LogLevel, message: string, data?: any): void {\n\t\tthis.output.appendLine(`[${level}  - ${this.now()}] ${message}`);\n\t\tif (data) {\n\t\t\tthis.output.appendLine(this.data2String(data));\n\t\t}\n\t}\n\n\tprivate now(): string {\n\t\tconst now = new Date();\n\t\treturn padLeft(now.getUTCHours() + '', 2, '0')\n\t\t\t+ ':' + padLeft(now.getMinutes() + '', 2, '0')\n\t\t\t+ ':' + padLeft(now.getUTCSeconds() + '', 2, '0') + '.' + now.getMilliseconds();\n\t}\n}\n\nfunction padLeft(s: string, n: number, pad = ' ') {\n\treturn pad.repeat(Math.max(0, n - s.length)) + s;\n}\n\nconst Logger = new Log();\nexport default Logger;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nfunction format(message, args) {\n\tlet result;\n\t// if (isPseudo) {\n\t// \t// FF3B and FF3D is the Unicode zenkaku representation for [ and ]\n\t// \tmessage = '\\uFF3B' + message.replace(/[aouei]/g, '$&$&') + '\\uFF3D';\n\t// }\n\tif (args.length === 0) {\n\t\tresult = message;\n\t}\n\telse {\n\t\tresult = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\n\t\t\tlet index = rest[0];\n\t\t\tlet arg = args[index];\n\t\t\tlet replacement = match;\n\t\t\tif (typeof arg === 'string') {\n\t\t\t\treplacement = arg;\n\t\t\t}\n\t\t\telse if (typeof arg === 'number' || typeof arg === 'boolean' || arg === void 0 || arg === null) {\n\t\t\t\treplacement = String(arg);\n\t\t\t}\n\t\t\treturn replacement;\n\t\t});\n\t}\n\treturn result;\n}\n\nfunction localize(key, message) {\n\tlet args = [];\n\tfor (let _i = 2; _i < arguments.length; _i++) {\n\t\targs[_i - 2] = arguments[_i];\n\t}\n\treturn format(message, args);\n}\n\nfunction loadMessageBundle(file) {\n\treturn localize;\n}\n\nlet MessageFormat;\n(function (MessageFormat) {\n\tMessageFormat[\"file\"] = \"file\";\n\tMessageFormat[\"bundle\"] = \"bundle\";\n\tMessageFormat[\"both\"] = \"both\";\n})(MessageFormat = exports.MessageFormat || (exports.MessageFormat = {}));\nlet BundleFormat;\n(function (BundleFormat) {\n\t// the nls.bundle format\n\tBundleFormat[\"standalone\"] = \"standalone\";\n\tBundleFormat[\"languagePack\"] = \"languagePack\";\n})(BundleFormat = exports.BundleFormat || (exports.BundleFormat = {}));\n\nexports.loadMessageBundle = loadMessageBundle;\nfunction config(opts) {\n\tif (opts) {\n\t\tif (isString(opts.locale)) {\n\t\t\toptions.locale = opts.locale.toLowerCase();\n\t\t\toptions.language = options.locale;\n\t\t\tresolvedLanguage = undefined;\n\t\t\tresolvedBundles = Object.create(null);\n\t\t}\n\t\tif (opts.messageFormat !== undefined) {\n\t\t\toptions.messageFormat = opts.messageFormat;\n\t\t}\n\t\tif (opts.bundleFormat === BundleFormat.standalone && options.languagePackSupport === true) {\n\t\t\toptions.languagePackSupport = false;\n\t\t}\n\t}\n\tisPseudo = options.locale === 'pseudo';\n\treturn loadMessageBundle;\n}\nexports.config = config;\n","module.exports = require(\"keytar\");","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from 'vscode-nls';\nimport * as vscode from 'vscode';\nimport fetch, { Response } from 'node-fetch';\nimport { v4 as uuid } from 'uuid';\nimport { PromiseAdapter, promiseFromEvent } from './common/utils';\nimport Logger from './common/logger';\nimport { ExperimentationTelemetry } from './experimentationService';\n\nconst localize = nls.loadMessageBundle();\n\nexport const NETWORK_ERROR = 'network error';\nconst AUTH_RELAY_SERVER = 'vscode-auth.github.com';\n// const AUTH_RELAY_STAGING_SERVER = 'client-auth-staging-14a768b.herokuapp.com';\n\nclass UriEventHandler extends vscode.EventEmitter<vscode.Uri> implements vscode.UriHandler {\n\tpublic handleUri(uri: vscode.Uri) {\n\t\tthis.fire(uri);\n\t}\n}\n\nexport const uriHandler = new UriEventHandler;\n\nconst onDidManuallyProvideToken = new vscode.EventEmitter<string | undefined>();\n\n\n\nfunction parseQuery(uri: vscode.Uri) {\n\treturn uri.query.split('&').reduce((prev: any, current) => {\n\t\tconst queryString = current.split('=');\n\t\tprev[queryString[0]] = queryString[1];\n\t\treturn prev;\n\t}, {});\n}\n\nexport class GitHubServer {\n\tprivate _statusBarItem: vscode.StatusBarItem | undefined;\n\n\tprivate _pendingStates = new Map<string, string[]>();\n\tprivate _codeExchangePromises = new Map<string, { promise: Promise<string>, cancel: vscode.EventEmitter<void> }>();\n\n\tconstructor(private readonly telemetryReporter: ExperimentationTelemetry) { }\n\n\tprivate isTestEnvironment(url: vscode.Uri): boolean {\n\t\treturn /\\.azurewebsites\\.net$/.test(url.authority) || url.authority.startsWith('localhost:');\n\t}\n\n\t// TODO@joaomoreno TODO@RMacfarlane\n\tprivate async isNoCorsEnvironment(): Promise<boolean> {\n\t\tconst uri = await vscode.env.asExternalUri(vscode.Uri.parse(`${vscode.env.uriScheme}://vscode.github-authentication/did-authenticate`));\n\t\treturn uri.scheme === 'https' && /^vscode\\./.test(uri.authority);\n\t}\n\n\tpublic async login(scopes: string): Promise<string> {\n\t\tLogger.info('Logging in...');\n\t\tthis.updateStatusBarItem(true);\n\n\t\tconst state = uuid();\n\n\t\t// TODO@joaomoreno TODO@RMacfarlane\n\t\tconst nocors = await this.isNoCorsEnvironment();\n\t\tconst callbackUri = await vscode.env.asExternalUri(vscode.Uri.parse(`${vscode.env.uriScheme}://vscode.github-authentication/did-authenticate${nocors ? '?nocors=true' : ''}`));\n\n\t\tif (this.isTestEnvironment(callbackUri)) {\n\t\t\tconst token = await vscode.window.showInputBox({ prompt: 'GitHub Personal Access Token', ignoreFocusOut: true });\n\t\t\tif (!token) { throw new Error('Sign in failed: No token provided'); }\n\n\t\t\tconst tokenScopes = await this.getScopes(token); // Example: ['repo', 'user']\n\t\t\tconst scopesList = scopes.split(' '); // Example: 'read:user repo user:email'\n\t\t\tif (!scopesList.every(scope => {\n\t\t\t\tconst included = tokenScopes.includes(scope);\n\t\t\t\tif (included || !scope.includes(':')) {\n\t\t\t\t\treturn included;\n\t\t\t\t}\n\n\t\t\t\treturn scope.split(':').some(splitScopes => {\n\t\t\t\t\treturn tokenScopes.includes(splitScopes);\n\t\t\t\t});\n\t\t\t})) {\n\t\t\t\tthrow new Error(`The provided token is does not match the requested scopes: ${scopes}`);\n\t\t\t}\n\n\t\t\tthis.updateStatusBarItem(false);\n\t\t\treturn token;\n\t\t} else {\n\t\t\tconst existingStates = this._pendingStates.get(scopes) || [];\n\t\t\tthis._pendingStates.set(scopes, [...existingStates, state]);\n\n\t\t\tconst uri = vscode.Uri.parse(`https://${AUTH_RELAY_SERVER}/authorize/?callbackUri=${encodeURIComponent(callbackUri.toString())}&scope=${scopes}&state=${state}&responseType=code&authServer=https://github.com${nocors ? '&nocors=true' : ''}`);\n\t\t\tawait vscode.env.openExternal(uri);\n\t\t}\n\n\t\t// Register a single listener for the URI callback, in case the user starts the login process multiple times\n\t\t// before completing it.\n\t\tlet codeExchangePromise = this._codeExchangePromises.get(scopes);\n\t\tif (!codeExchangePromise) {\n\t\t\tcodeExchangePromise = promiseFromEvent(uriHandler.event, this.exchangeCodeForToken(scopes));\n\t\t\tthis._codeExchangePromises.set(scopes, codeExchangePromise);\n\t\t}\n\n\t\treturn Promise.race([\n\t\t\tcodeExchangePromise.promise,\n\t\t\tpromiseFromEvent<string | undefined, string>(onDidManuallyProvideToken.event, (token: string | undefined, resolve, reject): void => {\n\t\t\t\tif (!token) {\n\t\t\t\t\treject('Cancelled');\n\t\t\t\t} else {\n\t\t\t\t\tresolve(token);\n\t\t\t\t}\n\t\t\t}).promise\n\t\t]).finally(() => {\n\t\t\tthis._pendingStates.delete(scopes);\n\t\t\tcodeExchangePromise?.cancel.fire();\n\t\t\tthis._codeExchangePromises.delete(scopes);\n\t\t\tthis.updateStatusBarItem(false);\n\t\t});\n\t}\n\n\tprivate exchangeCodeForToken: (scopes: string) => PromiseAdapter<vscode.Uri, string> =\n\t\t(scopes) => async (uri, resolve, reject) => {\n\t\t\tLogger.info('Exchanging code for token...');\n\t\t\tconst query = parseQuery(uri);\n\t\t\tconst code = query.code;\n\n\t\t\tconst acceptedStates = this._pendingStates.get(scopes) || [];\n\t\t\tif (!acceptedStates.includes(query.state)) {\n\t\t\t\treject('Received mismatched state');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst url = `https://${AUTH_RELAY_SERVER}/token?code=${code}&state=${query.state}`;\n\n\t\t\t// TODO@joao: remove\n\t\t\tif (query.nocors) {\n\t\t\t\ttry {\n\t\t\t\t\tconst json: any = await vscode.commands.executeCommand('_workbench.fetchJSON', url, 'POST');\n\t\t\t\t\tLogger.info('Token exchange success!');\n\t\t\t\t\tresolve(json.access_token);\n\t\t\t\t} catch (err) {\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tconst result = await fetch(url, {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAccept: 'application/json'\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (result.ok) {\n\t\t\t\t\t\tconst json = await result.json();\n\t\t\t\t\t\tLogger.info('Token exchange success!');\n\t\t\t\t\t\tresolve(json.access_token);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(result.statusText);\n\t\t\t\t\t}\n\t\t\t\t} catch (ex) {\n\t\t\t\t\treject(ex);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\tprivate updateStatusBarItem(isStart?: boolean) {\n\t\tif (isStart && !this._statusBarItem) {\n\t\t\tthis._statusBarItem = vscode.window.createStatusBarItem(vscode.StatusBarAlignment.Left);\n\t\t\tthis._statusBarItem.text = localize('signingIn', \"$(mark-github) Signing in to github.com...\");\n\t\t\tthis._statusBarItem.command = 'github.provide-token';\n\t\t\tthis._statusBarItem.show();\n\t\t}\n\n\t\tif (!isStart && this._statusBarItem) {\n\t\t\tthis._statusBarItem.dispose();\n\t\t\tthis._statusBarItem = undefined;\n\t\t}\n\t}\n\n\tpublic async manuallyProvideToken() {\n\t\tconst uriOrToken = await vscode.window.showInputBox({ prompt: 'Token', ignoreFocusOut: true });\n\t\tif (!uriOrToken) {\n\t\t\tonDidManuallyProvideToken.fire(undefined);\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst uri = vscode.Uri.parse(uriOrToken.trim());\n\t\t\tif (!uri.scheme || uri.scheme === 'file') { throw new Error; }\n\t\t\turiHandler.handleUri(uri);\n\t\t} catch (e) {\n\t\t\t// If it doesn't look like a URI, treat it as a token.\n\t\t\tLogger.info('Treating input as token');\n\t\t\tonDidManuallyProvideToken.fire(uriOrToken);\n\t\t}\n\t}\n\n\tprivate async getScopes(token: string): Promise<string[]> {\n\t\ttry {\n\t\t\tLogger.info('Getting token scopes...');\n\t\t\tconst result = await fetch('https://api.github.com', {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `token ${token}`,\n\t\t\t\t\t'User-Agent': 'Visual-Studio-Code'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (result.ok) {\n\t\t\t\tconst scopes = result.headers.get('X-OAuth-Scopes');\n\t\t\t\treturn scopes ? scopes.split(',').map(scope => scope.trim()) : [];\n\t\t\t} else {\n\t\t\t\tLogger.error(`Getting scopes failed: ${result.statusText}`);\n\t\t\t\tthrow new Error(result.statusText);\n\t\t\t}\n\t\t} catch (ex) {\n\t\t\tLogger.error(ex.message);\n\t\t\tthrow new Error(NETWORK_ERROR);\n\t\t}\n\t}\n\n\tpublic async getUserInfo(token: string): Promise<{ id: string, accountName: string }> {\n\t\tlet result: Response;\n\t\ttry {\n\t\t\tLogger.info('Getting user info...');\n\t\t\tresult = await fetch('https://api.github.com/user', {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `token ${token}`,\n\t\t\t\t\t'User-Agent': 'Visual-Studio-Code'\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (ex) {\n\t\t\tLogger.error(ex.message);\n\t\t\tthrow new Error(NETWORK_ERROR);\n\t\t}\n\n\t\tif (result.ok) {\n\t\t\tconst json = await result.json();\n\t\t\tLogger.info('Got account info!');\n\t\t\treturn { id: json.id, accountName: json.login };\n\t\t} else {\n\t\t\tLogger.error(`Getting account info failed: ${result.statusText}`);\n\t\t\tthrow new Error(result.statusText);\n\t\t}\n\t}\n\n\tpublic async checkIsEdu(token: string): Promise<void> {\n\t\tconst nocors = await this.isNoCorsEnvironment();\n\n\t\tif (nocors) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst result = await fetch('https://education.github.com/api/user', {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `token ${token}`,\n\t\t\t\t\t'faculty-check-preview': 'true',\n\t\t\t\t\t'User-Agent': 'Visual-Studio-Code'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (result.ok) {\n\t\t\t\tconst json: { student: boolean, faculty: boolean } = await result.json();\n\n\t\t\t\t/* __GDPR__\n\t\t\t\t\t\"session\" : {\n\t\t\t\t\t\t\"isEdu\": { \"classification\": \"NonIdentifiableDemographicInfo\", \"purpose\": \"FeatureInsight\" }\n\t\t\t\t\t}\n\t\t\t\t*/\n\t\t\t\tthis.telemetryReporter.sendTelemetryEvent('session', {\n\t\t\t\t\tisEdu: json.student\n\t\t\t\t\t\t? 'student'\n\t\t\t\t\t\t: json.faculty\n\t\t\t\t\t\t\t? 'faculty'\n\t\t\t\t\t\t\t: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// No-op\n\t\t}\n\n\t}\n}\n","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nif (global.fetch) {\n\texports.default = global.fetch.bind(global);\n}\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { EventEmitter, Event, Disposable } from 'vscode';\n\nexport function filterEvent<T>(event: Event<T>, filter: (e: T) => boolean): Event<T> {\n\treturn (listener, thisArgs = null, disposables?) => event(e => filter(e) && listener.call(thisArgs, e), null, disposables);\n}\n\nexport function onceEvent<T>(event: Event<T>): Event<T> {\n\treturn (listener, thisArgs = null, disposables?) => {\n\t\tconst result = event(e => {\n\t\t\tresult.dispose();\n\t\t\treturn listener.call(thisArgs, e);\n\t\t}, null, disposables);\n\n\t\treturn result;\n\t};\n}\n\n\nexport interface PromiseAdapter<T, U> {\n\t(\n\t\tvalue: T,\n\t\tresolve:\n\t\t\t(value: U | PromiseLike<U>) => void,\n\t\treject:\n\t\t\t(reason: any) => void\n\t): any;\n}\n\nconst passthrough = (value: any, resolve: (value?: any) => void) => resolve(value);\n\n/**\n * Return a promise that resolves with the next emitted event, or with some future\n * event as decided by an adapter.\n *\n * If specified, the adapter is a function that will be called with\n * `(event, resolve, reject)`. It will be called once per event until it resolves or\n * rejects.\n *\n * The default adapter is the passthrough function `(value, resolve) => resolve(value)`.\n *\n * @param event the event\n * @param adapter controls resolution of the returned promise\n * @returns a promise that resolves or rejects as specified by the adapter\n */\nexport function promiseFromEvent<T, U>(\n\tevent: Event<T>,\n\tadapter: PromiseAdapter<T, U> = passthrough): { promise: Promise<U>, cancel: EventEmitter<void> } {\n\tlet subscription: Disposable;\n\tlet cancel = new EventEmitter<void>();\n\treturn {\n\t\tpromise: new Promise<U>((resolve, reject) => {\n\t\t\tcancel.event(_ => reject());\n\t\t\tsubscription = event((value: T) => {\n\t\t\t\ttry {\n\t\t\t\t\tPromise.resolve(adapter(value, resolve, reject))\n\t\t\t\t\t\t.catch(reject);\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t});\n\t\t}).then(\n\t\t\t(result: U) => {\n\t\t\t\tsubscription.dispose();\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tsubscription.dispose();\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t),\n\t\tcancel\n\t};\n}\n\nexport function arrayEquals<T>(one: ReadonlyArray<T> | undefined, other: ReadonlyArray<T> | undefined, itemEquals: (a: T, b: T) => boolean = (a, b) => a === b): boolean {\n\tif (one === other) {\n\t\treturn true;\n\t}\n\n\tif (!one || !other) {\n\t\treturn false;\n\t}\n\n\tif (one.length !== other.length) {\n\t\treturn false;\n\t}\n\n\tfor (let i = 0, len = one.length; i < len; i++) {\n\t\tif (!itemEquals(one[i], other[i])) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nlet TelemetryReporter = (function () {\n\tfunction TelemetryReporter(extensionId, extensionVersion, key) {\n\t}\n\tTelemetryReporter.prototype.updateUserOptIn = function (key) {\n\t};\n\tTelemetryReporter.prototype.createAppInsightsClient = function (key) {\n\t};\n\tTelemetryReporter.prototype.getCommonProperties = function () {\n\t};\n\tTelemetryReporter.prototype.sendTelemetryEvent = function (eventName, properties, measurements) {\n\t};\n\tTelemetryReporter.prototype.dispose = function () {\n\t};\n\tTelemetryReporter.TELEMETRY_CONFIG_ID = 'telemetry';\n\tTelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID = 'enableTelemetry';\n\treturn TelemetryReporter;\n}());\nexports.default = TelemetryReporter;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport TelemetryReporter from 'vscode-extension-telemetry';\nimport { getExperimentationService, IExperimentationService, IExperimentationTelemetry, TargetPopulation } from 'vscode-tas-client';\n\nexport class ExperimentationTelemetry implements IExperimentationTelemetry {\n\tprivate sharedProperties: Record<string, string> = {};\n\n\tconstructor(private baseReporter: TelemetryReporter) { }\n\n\tsendTelemetryEvent(eventName: string, properties?: Record<string, string>, measurements?: Record<string, number>) {\n\t\tthis.baseReporter.sendTelemetryEvent(\n\t\t\teventName,\n\t\t\t{\n\t\t\t\t...this.sharedProperties,\n\t\t\t\t...properties,\n\t\t\t},\n\t\t\tmeasurements,\n\t\t);\n\t}\n\n\tsendTelemetryErrorEvent(\n\t\teventName: string,\n\t\tproperties?: Record<string, string>,\n\t\t_measurements?: Record<string, number>,\n\t) {\n\t\tthis.baseReporter.sendTelemetryErrorEvent(eventName, {\n\t\t\t...this.sharedProperties,\n\t\t\t...properties,\n\t\t});\n\t}\n\n\tsetSharedProperty(name: string, value: string): void {\n\t\tthis.sharedProperties[name] = value;\n\t}\n\n\tpostEvent(eventName: string, props: Map<string, string>): void {\n\t\tconst event: Record<string, string> = {};\n\t\tfor (const [key, value] of props) {\n\t\t\tevent[key] = value;\n\t\t}\n\t\tthis.sendTelemetryEvent(eventName, event);\n\t}\n\n\tdispose(): Promise<any> {\n\t\treturn this.baseReporter.dispose();\n\t}\n}\n\nfunction getTargetPopulation(): TargetPopulation {\n\tswitch (vscode.env.uriScheme) {\n\t\tcase 'vscode':\n\t\t\treturn TargetPopulation.Public;\n\t\tcase 'vscode-insiders':\n\t\t\treturn TargetPopulation.Insiders;\n\t\tcase 'vscode-exploration':\n\t\t\treturn TargetPopulation.Internal;\n\t\tcase 'code-oss':\n\t\t\treturn TargetPopulation.Team;\n\t\tdefault:\n\t\t\treturn TargetPopulation.Public;\n\t}\n}\n\nexport async function createExperimentationService(context: vscode.ExtensionContext, telemetry: ExperimentationTelemetry): Promise<IExperimentationService> {\n\tconst id = context.extension.id;\n\tconst version = context.extension.packageJSON.version;\n\treturn getExperimentationService(id, version, getTargetPopulation(), telemetry, context.globalState);\n}\n","\"use strict\";\n//\n//  Copyright (c) Microsoft Corporation. All rights reserved.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar VSCodeTasClient_1 = require(\"./vscode-tas-client/VSCodeTasClient\");\nexports.getExperimentationService = VSCodeTasClient_1.getExperimentationService;\nexports.getExperimentationServiceAsync = VSCodeTasClient_1.getExperimentationServiceAsync;\nvar VSCodeFilterProvider_1 = require(\"./vscode-tas-client/VSCodeFilterProvider\");\nexports.TargetPopulation = VSCodeFilterProvider_1.TargetPopulation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst VSCodeFilterProvider_1 = require(\"./VSCodeFilterProvider\");\nconst tas_client_1 = require(\"tas-client\");\nconst vscode = require(\"vscode\");\nconst MementoKeyValueStorage_1 = require(\"./MementoKeyValueStorage\");\nconst TelemetryDisabledExperimentationService_1 = require(\"./TelemetryDisabledExperimentationService\");\nconst endpoint = 'https://default.exp-tas.com/vscode/ab';\nconst telemetryEventName = 'query-expfeature';\nconst featuresTelemetryPropertyName = 'VSCode.ABExp.Features';\nconst assignmentContextTelemetryPropertyName = 'abexp.assignmentcontext';\nconst storageKey = 'VSCode.ABExp.FeatureData';\nconst refetchInterval = 1000 * 60 * 30; // By default it's set up to 30 minutes.\n/**\n *\n * @param extensionName The name of the extension.\n * @param extensionVersion The version of the extension.\n * @param telemetry Telemetry implementation.\n * @param targetPopulation An enum containing the target population ('team', 'internal', 'insiders', 'public').\n * @param memento The memento state to be used for cache.\n * @param filterProviders The filter providers.\n */\nfunction getExperimentationService(extensionName, extensionVersion, targetPopulation, telemetry, memento, ...filterProviders) {\n    if (!memento) {\n        throw new Error('Memento storage was not provided.');\n    }\n    const config = vscode.workspace.getConfiguration('telemetry');\n    const telemetryEnabled = vscode.env.isTelemetryEnabled === undefined\n        ? config.get('enableTelemetry', true)\n        : vscode.env.isTelemetryEnabled;\n    if (!telemetryEnabled) {\n        return new TelemetryDisabledExperimentationService_1.default();\n    }\n    const extensionFilterProvider = new VSCodeFilterProvider_1.VSCodeFilterProvider(extensionName, extensionVersion, targetPopulation);\n    const providerList = [extensionFilterProvider, ...filterProviders];\n    const keyValueStorage = new MementoKeyValueStorage_1.MementoKeyValueStorage(memento);\n    return new tas_client_1.ExperimentationService({\n        filterProviders: providerList,\n        telemetry: telemetry,\n        storageKey: storageKey,\n        keyValueStorage: keyValueStorage,\n        featuresTelemetryPropertyName: featuresTelemetryPropertyName,\n        assignmentContextTelemetryPropertyName: assignmentContextTelemetryPropertyName,\n        telemetryEventName: telemetryEventName,\n        endpoint: endpoint,\n        refetchInterval: refetchInterval,\n    });\n}\nexports.getExperimentationService = getExperimentationService;\n/**\n * Returns the experimentation service after waiting on initialize.\n *\n * @param extensionName The name of the extension.\n * @param extensionVersion The version of the extension.\n * @param telemetry Telemetry implementation.\n * @param targetPopulation An enum containing the target population ('team', 'internal', 'insiders', 'public').\n * @param memento The memento state to be used for cache.\n * @param filterProviders The filter providers.\n */\nasync function getExperimentationServiceAsync(extensionName, extensionVersion, targetPopulation, telemetry, memento, ...filterProviders) {\n    const experimentationService = getExperimentationService(extensionName, extensionVersion, targetPopulation, telemetry, memento, ...filterProviders);\n    await experimentationService.initializePromise;\n    return experimentationService;\n}\nexports.getExperimentationServiceAsync = getExperimentationServiceAsync;\n//# sourceMappingURL=VSCodeTasClient.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode = require(\"vscode\");\n/**\n * Here is where we are going to define the filters we will set.\n */\nclass VSCodeFilterProvider {\n    constructor(extensionName, extensionVersion, targetPopulation) {\n        this.extensionName = extensionName;\n        this.extensionVersion = extensionVersion;\n        this.targetPopulation = targetPopulation;\n    }\n    /**\n     * Returns a version string that can be parsed into a .NET Build object\n     * by removing the tag suffix (for example -dev).\n     *\n     * @param version Version string to be trimmed.\n     */\n    static trimVersionSuffix(version) {\n        const regex = /\\-[a-zA-Z0-9]+$/;\n        const result = version.split(regex);\n        return result[0];\n    }\n    getFilterValue(filter) {\n        switch (filter) {\n            case Filters.ApplicationVersion:\n                return VSCodeFilterProvider.trimVersionSuffix(vscode.version);\n            case Filters.Build:\n                return vscode.env.appName;\n            case Filters.ClientId:\n                return vscode.env.machineId;\n            case Filters.ExtensionName:\n                return this.extensionName;\n            case Filters.ExtensionVersion:\n                return VSCodeFilterProvider.trimVersionSuffix(this.extensionVersion);\n            case Filters.Language:\n                return vscode.env.language;\n            case Filters.TargetPopulation:\n                return this.targetPopulation;\n            default:\n                return '';\n        }\n    }\n    getFilters() {\n        let filters = new Map();\n        let filterValues = Object.values(Filters);\n        for (let value of filterValues) {\n            filters.set(value, this.getFilterValue(value));\n        }\n        return filters;\n    }\n}\nexports.VSCodeFilterProvider = VSCodeFilterProvider;\n/*\nBased upon the official VSCode currently existing filters in the\nExP backend for the VSCode cluster.\nhttps://experimentation.visualstudio.com/Analysis%20and%20Experimentation/_git/AnE.ExP.TAS.TachyonHost.Configuration?path=%2FConfigurations%2Fvscode%2Fvscode.json&version=GBmaster\n\"X-MSEdge-Market\": \"detection.market\",\n\"X-FD-Corpnet\": \"detection.corpnet\",\n\"X-VSCodeAppVersion\": \"appversion\",\n\"X-VSCode-Build\": \"build\",\n\"X-MSEdge-ClientId\": \"clientid\",\n\"X-VSCode-ExtensionName\": \"extensionname\",\n\"X-VSCode-ExtensionVersion\": \"extensionversion\",\n\"X-VSCode-TargetPopulation\": \"targetpopulation\",\n\"X-VSCode-Language\": \"language\"\n*/\n/**\n * All available filters, can be updated.\n */\nvar Filters;\n(function (Filters) {\n    /**\n     * The market in which the extension is distributed.\n     */\n    Filters[\"Market\"] = \"X-MSEdge-Market\";\n    /**\n     * The corporation network.\n     */\n    Filters[\"CorpNet\"] = \"X-FD-Corpnet\";\n    /**\n     * Version of the application which uses experimentation service.\n     */\n    Filters[\"ApplicationVersion\"] = \"X-VSCode-AppVersion\";\n    /**\n     * Insiders vs Stable.\n     */\n    Filters[\"Build\"] = \"X-VSCode-Build\";\n    /**\n     * Client Id which is used as primary unit for the experimentation.\n     */\n    Filters[\"ClientId\"] = \"X-MSEdge-ClientId\";\n    /**\n     * Extension header.\n     */\n    Filters[\"ExtensionName\"] = \"X-VSCode-ExtensionName\";\n    /**\n     * The version of the extension.\n     */\n    Filters[\"ExtensionVersion\"] = \"X-VSCode-ExtensionVersion\";\n    /**\n     * The language in use by VS Code\n     */\n    Filters[\"Language\"] = \"X-VSCode-Language\";\n    /**\n     * The target population.\n     * This is used to separate internal, early preview, GA, etc.\n     */\n    Filters[\"TargetPopulation\"] = \"X-VSCode-TargetPopulation\";\n})(Filters = exports.Filters || (exports.Filters = {}));\n/**\n * Specifies the target population for the experimentation filter.\n */\nvar TargetPopulation;\n(function (TargetPopulation) {\n    TargetPopulation[\"Team\"] = \"team\";\n    TargetPopulation[\"Internal\"] = \"internal\";\n    TargetPopulation[\"Insiders\"] = \"insider\";\n    TargetPopulation[\"Public\"] = \"public\";\n})(TargetPopulation = exports.TargetPopulation || (exports.TargetPopulation = {}));\n//# sourceMappingURL=VSCodeFilterProvider.js.map","\"use strict\";\n//\n//  Copyright (c) Microsoft Corporation. All rights reserved.\n//\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ExperimentationService_1 = require(\"./tas-client/ExperimentationService\");\nexports.ExperimentationService = ExperimentationService_1.ExperimentationService;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst TasApiFeatureProvider_1 = require(\"./FeatureProvider/TasApiFeatureProvider\");\nconst AxiosHttpClient_1 = require(\"./Util/AxiosHttpClient\");\nconst ExperimentationServiceAutoPolling_1 = require(\"./ExperimentationServiceAutoPolling\");\n/**\n * Experimentation service to provide functionality of A/B experiments:\n * - reading flights;\n * - caching current set of flights;\n * - get answer on if flights are enabled.\n */\nclass ExperimentationService extends ExperimentationServiceAutoPolling_1.ExperimentationServiceAutoPolling {\n    constructor(options) {\n        super(options.telemetry, options.filterProviders || [], // Defaulted to empty array.\n        options.refetchInterval != null\n            ? options.refetchInterval\n            : // If no fetch interval is provided, refetch functionality is turned off.\n                0, options.featuresTelemetryPropertyName, options.assignmentContextTelemetryPropertyName, options.telemetryEventName, options.storageKey, options.keyValueStorage);\n        this.options = options;\n        this.invokeInit();\n    }\n    init() {\n        // set feature providers to be an empty array.\n        this.featureProviders = [];\n        // Add WebApi feature provider.\n        this.addFeatureProvider(new TasApiFeatureProvider_1.TasApiFeatureProvider(new AxiosHttpClient_1.AxiosHttpClient(this.options.endpoint), this.telemetry, this.filterProviders));\n        // This will start polling the TAS.\n        super.init();\n    }\n}\nexports.ExperimentationService = ExperimentationService;\nExperimentationService.REFRESH_RATE_IN_MINUTES = 30;\n//# sourceMappingURL=ExperimentationService.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst FilteredFeatureProvider_1 = require(\"./FilteredFeatureProvider\");\n/**\n * Feature provider implementation that calls the TAS web service to get the most recent active features.\n */\nclass TasApiFeatureProvider extends FilteredFeatureProvider_1.FilteredFeatureProvider {\n    constructor(httpClient, telemetry, filterProviders) {\n        super(telemetry, filterProviders);\n        this.httpClient = httpClient;\n        this.telemetry = telemetry;\n        this.filterProviders = filterProviders;\n    }\n    /**\n     * Method that handles fetching of latest data (in this case, flights) from the provider.\n     */\n    async fetch() {\n        // We get the filters that will be sent as headers.\n        let filters = this.getFilters();\n        let headers = {};\n        // Filters are handled using Map<string,any> therefore we need to\n        // convert these filters into something axios can take as headers.\n        for (let key of filters.keys()) {\n            const filterValue = filters.get(key);\n            headers[key] = filterValue;\n        }\n        //axios webservice call.\n        let response = await this.httpClient.get({ headers: headers });\n        // If we have at least one filter, we post it to telemetry event.\n        if (filters.keys.length > 0) {\n            this.PostEventToTelemetry(headers);\n        }\n        // Read the response data from the server.\n        let responseData = response.data;\n        let configs = responseData.Configs;\n        let features = [];\n        for (let c of configs) {\n            if (!c.Parameters) {\n                continue;\n            }\n            for (let key of Object.keys(c.Parameters)) {\n                const featureName = key + (c.Parameters[key] ? '' : 'cf');\n                if (!features.includes(featureName)) {\n                    features.push(featureName);\n                }\n            }\n        }\n        return {\n            features,\n            assignmentContext: responseData.AssignmentContext,\n            configs\n        };\n    }\n}\nexports.TasApiFeatureProvider = TasApiFeatureProvider;\n//# sourceMappingURL=TasApiFeatureProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst BaseFeatureProvider_1 = require(\"./BaseFeatureProvider\");\n/**\n * Feature provider implementation that handles filters.\n */\nclass FilteredFeatureProvider extends BaseFeatureProvider_1.BaseFeatureProvider {\n    constructor(telemetry, filterProviders) {\n        super(telemetry);\n        this.telemetry = telemetry;\n        this.filterProviders = filterProviders;\n        this.cachedTelemetryEvents = [];\n    }\n    getFilters() {\n        // We get the filters that will be sent as headers.\n        let filters = new Map();\n        for (let filter of this.filterProviders) {\n            let filterHeaders = filter.getFilters();\n            for (let key of filterHeaders.keys()) {\n                // Headers can be overridden by custom filters.\n                // That's why a check isn't done to see if the header already exists, the value is just set.\n                let filterValue = filterHeaders.get(key);\n                filters.set(key, filterValue);\n            }\n        }\n        return filters;\n    }\n    PostEventToTelemetry(headers) {\n        /**\n         * If these headers have already been posted, we skip from posting them again..\n         */\n        if (this.cachedTelemetryEvents.includes(headers)) {\n            return;\n        }\n        const jsonHeaders = JSON.stringify(headers);\n        this.telemetry.postEvent('report-headers', new Map([['ABExp.headers', jsonHeaders]]));\n        /**\n         * We cache the flight so we don't post it again.\n         */\n        this.cachedTelemetryEvents.push(headers);\n    }\n}\nexports.FilteredFeatureProvider = FilteredFeatureProvider;\n//# sourceMappingURL=FilteredFeatureProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Abstract class for Feature Provider Implementation.\n */\nclass BaseFeatureProvider {\n    /**\n     * @param telemetry The telemetry implementation.\n     */\n    constructor(telemetry) {\n        this.telemetry = telemetry;\n        this.isFetching = false;\n    }\n    /**\n     * Method that wraps the fetch method in order to re-use the fetch promise if needed.\n     * @param headers The headers to be used on the fetch method.\n     */\n    async getFeatures() {\n        if (this.isFetching && this.fetchPromise) {\n            return this.fetchPromise;\n        }\n        this.fetchPromise = this.fetch();\n        let features = await this.fetchPromise;\n        this.isFetching = false;\n        this.fetchPromise = undefined;\n        return features;\n    }\n}\nexports.BaseFeatureProvider = BaseFeatureProvider;\n//# sourceMappingURL=BaseFeatureProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst axios_1 = require(\"axios\");\nclass AxiosHttpClient {\n    constructor(endpoint) {\n        this.endpoint = endpoint;\n    }\n    get(config) {\n        return axios_1.default.get(this.endpoint, Object.assign(Object.assign({}, config), { proxy: false }));\n    }\n}\nexports.AxiosHttpClient = AxiosHttpClient;\n//# sourceMappingURL=AxiosHttpClient.js.map","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ExperimentationServiceBase_1 = require(\"./ExperimentationServiceBase\");\nconst PollingService_1 = require(\"./Util/PollingService\");\n/**\n * Implementation of Feature provider that provides a polling feature, where the source can be re-fetched every x time given.\n */\nclass ExperimentationServiceAutoPolling extends ExperimentationServiceBase_1.ExperimentationServiceBase {\n    constructor(telemetry, filterProviders, refreshRateMs, featuresTelemetryPropertyName, assignmentContextTelemetryPropertyName, telemetryEventName, storageKey, storage) {\n        super(telemetry, featuresTelemetryPropertyName, assignmentContextTelemetryPropertyName, telemetryEventName, storageKey, storage);\n        this.telemetry = telemetry;\n        this.filterProviders = filterProviders;\n        this.refreshRateMs = refreshRateMs;\n        this.featuresTelemetryPropertyName = featuresTelemetryPropertyName;\n        this.assignmentContextTelemetryPropertyName = assignmentContextTelemetryPropertyName;\n        this.telemetryEventName = telemetryEventName;\n        this.storageKey = storageKey;\n        this.storage = storage;\n        // Excluding 0 since it allows to turn off the auto polling.\n        if (refreshRateMs < 1000 && refreshRateMs !== 0) {\n            throw new Error('The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.');\n        }\n        if (refreshRateMs > 0) {\n            this.pollingService = new PollingService_1.PollingService(refreshRateMs);\n            this.pollingService.OnPollTick(async () => {\n                await super.getFeaturesAsync();\n            });\n        }\n    }\n    init() {\n        if (this.pollingService) {\n            this.pollingService.StartPolling(true);\n        }\n        else {\n            super.getFeaturesAsync();\n        }\n    }\n    /**\n     * Wrapper that will reset the polling intervals whenever the feature data is fetched manually.\n     */\n    async getFeaturesAsync(overrideInMemoryFeatures = false) {\n        if (!this.pollingService) {\n            return await super.getFeaturesAsync(overrideInMemoryFeatures);\n        }\n        else {\n            this.pollingService.StopPolling();\n            let result = await super.getFeaturesAsync(overrideInMemoryFeatures);\n            this.pollingService.StartPolling();\n            return result;\n        }\n    }\n}\nexports.ExperimentationServiceAutoPolling = ExperimentationServiceAutoPolling;\n//# sourceMappingURL=ExperimentationServiceAutoPolling.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst MemoryKeyValueStorage_1 = require(\"./Util/MemoryKeyValueStorage\");\n/**\n * Experimentation service to provide functionality of A/B experiments:\n * - reading flights;\n * - caching current set of flights;\n * - get answer on if flights are enabled.\n */\nclass ExperimentationServiceBase {\n    constructor(telemetry, featuresTelemetryPropertyName, assignmentContextTelemetryPropertyName, telemetryEventName, storageKey, storage) {\n        this.telemetry = telemetry;\n        this.featuresTelemetryPropertyName = featuresTelemetryPropertyName;\n        this.assignmentContextTelemetryPropertyName = assignmentContextTelemetryPropertyName;\n        this.telemetryEventName = telemetryEventName;\n        this.storageKey = storageKey;\n        this.storage = storage;\n        this.featuresConsumed = false;\n        this.cachedTelemetryEvents = [];\n        this._features = {\n            features: [],\n            assignmentContext: '',\n            configs: []\n        };\n        if (!this.storageKey) {\n            this.storageKey = 'ABExp.Features';\n        }\n        if (!this.storage) {\n            storage = new MemoryKeyValueStorage_1.MemoryKeyValueStorage();\n        }\n        this.loadCachePromise = this.loadCachedFeatureData();\n        this.initializePromise = this.loadCachePromise;\n        this.initialFetch = new Promise((resolve, reject) => {\n            this.resolveInitialFetchPromise = resolve;\n        });\n    }\n    get features() {\n        return this._features;\n    }\n    set features(value) {\n        this._features = value;\n        /**\n         * If an implementation of telemetry exists, we set the shared property.\n         */\n        if (this.telemetry) {\n            this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName, this.features.features.join(';'));\n            this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName, this.features.assignmentContext);\n        }\n    }\n    /**\n     * Gets all the features from the provider sources (not cache).\n     * It returns these features and will also update the providers to have the latest features cached.\n     */\n    async getFeaturesAsync(overrideInMemoryFeatures = false) {\n        /**\n         * If there's already a fetching promise, there's no need to call it again.\n         * We return that as result.\n         */\n        if (this.fetchPromise != null) {\n            try {\n                await this.fetchPromise;\n            }\n            catch (_a) {\n                // Fetching features threw. Can happen if not connected to the internet, e.g\n            }\n            return this.features;\n        }\n        if (!this.featureProviders || this.featureProviders.length === 0) {\n            return Promise.resolve({\n                features: [],\n                assignmentContext: '',\n                configs: []\n            });\n        }\n        /**\n         * Fetch all from providers.\n         */\n        this.fetchPromise = Promise.all(this.featureProviders.map(async (provider) => {\n            return await provider.getFeatures();\n        }));\n        try {\n            const featureResults = await this.fetchPromise;\n            this.updateFeatures(featureResults, overrideInMemoryFeatures);\n        }\n        catch (_b) {\n            // Fetching features threw. Can happen if not connected to the internet, e.g.\n        }\n        this.fetchPromise = undefined;\n        if (this.resolveInitialFetchPromise) {\n            this.resolveInitialFetchPromise();\n            this.resolveInitialFetchPromise = undefined;\n        }\n        /**\n         * At this point all features have been re-fetched and cache has been updated.\n         * We return the cached features.\n         */\n        return this.features;\n    }\n    /**\n     *\n     * @param featureResults The feature results obtained from all the feature providers.\n     */\n    updateFeatures(featureResults, overrideInMemoryFeatures = false) {\n        /**\n         * if features comes as a null value, that is taken as if there aren't any features active,\n         * so an empty array is defaulted.\n         */\n        let features = {\n            features: [],\n            assignmentContext: '',\n            configs: []\n        };\n        for (let result of featureResults) {\n            for (let feature of result.features) {\n                if (!features.features.includes(feature)) {\n                    features.features.push(feature);\n                }\n            }\n            for (let config of result.configs) {\n                const existingConfig = features.configs.find(c => c.Id === config.Id);\n                if (existingConfig) {\n                    existingConfig.Parameters = Object.assign(Object.assign({}, existingConfig.Parameters), config.Parameters);\n                }\n                else {\n                    features.configs.push(config);\n                }\n            }\n            features.assignmentContext += result.assignmentContext;\n        }\n        /**\n         * Set the obtained feature values to the global features variable. This stores them in memory.\n         */\n        if (overrideInMemoryFeatures || !this.featuresConsumed) {\n            this.features = features;\n        }\n        /**\n         * If we have storage, we cache the latest results into the storage.\n         */\n        if (this.storage) {\n            this.storage.setValue(this.storageKey, features);\n        }\n    }\n    async loadCachedFeatureData() {\n        let cachedFeatureData;\n        if (this.storage) {\n            cachedFeatureData = await this.storage.getValue(this.storageKey);\n            // When updating from an older version of tas-client, configs may be undefined \n            if (cachedFeatureData !== undefined && cachedFeatureData.configs === undefined) {\n                cachedFeatureData.configs = [];\n            }\n        }\n        if (this.features.features.length === 0) {\n            this.features = cachedFeatureData || { features: [], assignmentContext: '', configs: [] };\n        }\n    }\n    /**\n     * Returns a value indicating whether the given flight is enabled.\n     * It uses the in-memory cache.\n     * @param flight The flight to check.\n     */\n    isFlightEnabled(flight) {\n        this.featuresConsumed = true;\n        this.PostEventToTelemetry(flight);\n        return this.features.features.includes(flight);\n    }\n    /**\n     * Returns a value indicating whether the given flight is enabled.\n     * It uses the values currently on cache.\n     * @param flight The flight to check.\n     */\n    async isCachedFlightEnabled(flight) {\n        await this.loadCachePromise;\n        this.featuresConsumed = true;\n        this.PostEventToTelemetry(flight);\n        return this.features.features.includes(flight);\n    }\n    /**\n     * Returns a value indicating whether the given flight is enabled.\n     * It re-fetches values from the server.\n     * @param flight the flight to check.\n     */\n    async isFlightEnabledAsync(flight) {\n        const features = await this.getFeaturesAsync(true);\n        this.featuresConsumed = true;\n        this.PostEventToTelemetry(flight);\n        return features.features.includes(flight);\n    }\n    /**\n     * Returns the value of the treatment variable, or undefined if not found.\n     * It uses the values currently in memory, so the experimentation service\n     * must be initialized before calling.\n     * @param config name of the config to check.\n     * @param name name of the treatment variable.\n     */\n    getTreatmentVariable(configId, name) {\n        var _a;\n        this.featuresConsumed = true;\n        this.PostEventToTelemetry(`${configId}.${name}`);\n        const config = this.features.configs.find(c => c.Id === configId);\n        return (_a = config) === null || _a === void 0 ? void 0 : _a.Parameters[name];\n    }\n    /**\n     * Returns the value of the treatment variable, or undefined if not found.\n     * It re-fetches values from the server. If checkCache is set to true and the value exists\n     * in the cache, the Treatment Assignment Service is not called.\n     * @param config name of the config to check.\n     * @param name name of the treatment variable.\n     * @param checkCache check the cache for the variable before calling the TAS.\n     */\n    async getTreatmentVariableAsync(configId, name, checkCache) {\n        if (checkCache) {\n            const _featuresConsumed = this.featuresConsumed;\n            const cachedValue = this.getTreatmentVariable(configId, name);\n            if (cachedValue === undefined) {\n                this.featuresConsumed = _featuresConsumed;\n            }\n            else {\n                return cachedValue;\n            }\n        }\n        await this.getFeaturesAsync(true);\n        return this.getTreatmentVariable(configId, name);\n    }\n    PostEventToTelemetry(flight) {\n        /**\n         * If this event has already been posted, we omit from posting it again.\n         */\n        if (this.cachedTelemetryEvents.includes(flight)) {\n            return;\n        }\n        this.telemetry.postEvent(this.telemetryEventName, new Map([['ABExp.queriedFeature', flight]]));\n        /**\n         * We cache the flight so we don't post it again.\n         */\n        this.cachedTelemetryEvents.push(flight);\n    }\n    invokeInit() {\n        this.init();\n    }\n    addFeatureProvider(...providers) {\n        if (providers == null || this.featureProviders == null) {\n            return;\n        }\n        for (let provider of providers) {\n            this.featureProviders.push(provider);\n        }\n    }\n}\nexports.ExperimentationServiceBase = ExperimentationServiceBase;\n//# sourceMappingURL=ExperimentationServiceBase.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass MemoryKeyValueStorage {\n    constructor() {\n        this.storage = new Map();\n    }\n    async getValue(key, defaultValue) {\n        if (this.storage.has(key)) {\n            return await Promise.resolve(this.storage.get(key));\n        }\n        return await Promise.resolve(defaultValue || undefined);\n    }\n    setValue(key, value) {\n        this.storage.set(key, value);\n    }\n}\nexports.MemoryKeyValueStorage = MemoryKeyValueStorage;\n//# sourceMappingURL=MemoryKeyValueStorage.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass PollingService {\n    constructor(fetchInterval) {\n        this.fetchInterval = fetchInterval;\n    }\n    StopPolling() {\n        clearInterval(this.intervalHandle);\n        this.intervalHandle = undefined;\n    }\n    OnPollTick(callback) {\n        this.onTick = callback;\n    }\n    StartPolling(pollImmediately = false) {\n        if (this.intervalHandle) {\n            this.StopPolling();\n        }\n        // If there's no callback, there's no point to start polling.\n        if (this.onTick == null) {\n            return;\n        }\n        if (pollImmediately) {\n            this.onTick().then(() => { return; }).catch(() => { return; });\n        }\n        /**\n         * Set the interval to start running.\n         */\n        this.intervalHandle = setInterval(async () => {\n            await this.onTick();\n        }, this.fetchInterval);\n        if (this.intervalHandle.unref) { // unref is only available in Node, not the web\n            this.intervalHandle.unref(); // unref is used to avoid keeping node.js alive only because of these timeouts.\n        }\n    }\n}\nexports.PollingService = PollingService;\n//# sourceMappingURL=PollingService.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass MementoKeyValueStorage {\n    constructor(mementoGlobalStorage) {\n        this.mementoGlobalStorage = mementoGlobalStorage;\n    }\n    async getValue(key, defaultValue) {\n        const value = await this.mementoGlobalStorage.get(key);\n        return value || defaultValue;\n    }\n    setValue(key, value) {\n        this.mementoGlobalStorage.update(key, value);\n    }\n}\nexports.MementoKeyValueStorage = MementoKeyValueStorage;\n//# sourceMappingURL=MementoKeyValueStorage.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass TelemetryDisabledExperimentationService {\n    constructor() {\n        this.initializePromise = Promise.resolve();\n        this.initialFetch = Promise.resolve();\n    }\n    isFlightEnabled(flight) {\n        return false;\n    }\n    isCachedFlightEnabled(flight) {\n        return Promise.resolve(false);\n    }\n    isFlightEnabledAsync(flight) {\n        return Promise.resolve(false);\n    }\n    getTreatmentVariable(configId, name) {\n        return undefined;\n    }\n    getTreatmentVariableAsync(configId, name) {\n        return Promise.resolve(undefined);\n    }\n}\nexports.default = TelemetryDisabledExperimentationService;\n//# sourceMappingURL=TelemetryDisabledExperimentationService.js.map"],"sourceRoot":""}