"use strict";(function(u,a){typeof exports=="object"?module.exports=a():u.MonacoBootstrapWindow=a()})(this,function(){const u=x(),a=S(),o=a.process,b=o.sandboxed||typeof o.env.VSCODE_BROWSER_CODE_LOADING=="string";async function E(n,s,e){var y;let m=!!o.env.VSCODE_DEV;o.on("uncaughtException",function(i){p(i,m)}),performance.mark("code/willWaitForWindowConfig");const r=await a.context.resolveConfiguration();performance.mark("code/didWaitForWindowConfig");const{forceDisableShowDevtoolsOnError:g,forceEnableDeveloperKeybindings:c,disallowReloadKeybinding:t,removeDeveloperKeybindingsAfterLoad:l}=typeof(e==null?void 0:e.configureDeveloperSettings)=="function"?e.configureDeveloperSettings(r):{forceDisableShowDevtoolsOnError:!1,forceEnableDeveloperKeybindings:!1,disallowReloadKeybinding:!1,removeDeveloperKeybindingsAfterLoad:!1};m=o.env.VSCODE_DEV&&!g;const h=o.env.VSCODE_DEV||c;let D;h&&(D=_(t)),globalThis.MonacoBootstrap.enableASARSupport(r.appRoot),typeof(e==null?void 0:e.canModifyDOM)=="function"&&e.canModifyDOM(r);const v=globalThis.MonacoBootstrap.setupNLS();let f=v.availableLanguages["*"]||"en";f==="zh-tw"?f="zh-Hant":f==="zh-cn"&&(f="zh-Hans"),window.document.documentElement.setAttribute("lang",f),b||(window.define=void 0),o.sandboxed||require.define("fs",[],function(){return require.__$__nodeRequire("original-fs")}),window.MonacoEnvironment={};const d={baseUrl:b?`${u.fileUriFromPath(r.appRoot,{isWindows:o.platform==="win32",scheme:"vscode-file",fallbackAuthority:"vscode-app"})}/out`:`${u.fileUriFromPath(r.appRoot,{isWindows:o.platform==="win32"})}/out`,"vs/nls":v,preferScriptTags:b};d.preferScriptTags&&(d.trustedTypesPolicy=(y=window.trustedTypes)==null?void 0:y.createPolicy("amdLoader",{createScriptURL(i){if(i.startsWith(window.location.origin))return i;throw new Error(`Invalid script url: ${i}`)}})),o.sandboxed?d.paths={"vscode-textmate":"../node_modules/vscode-textmate/release/main","vscode-oniguruma":"../node_modules/vscode-oniguruma/release/main",xterm:"../node_modules/xterm/lib/xterm.js","xterm-addon-search":"../node_modules/xterm-addon-search/lib/xterm-addon-search.js","xterm-addon-unicode11":"../node_modules/xterm-addon-unicode11/lib/xterm-addon-unicode11.js","xterm-addon-webgl":"../node_modules/xterm-addon-webgl/lib/xterm-addon-webgl.js","iconv-lite-umd":"../node_modules/iconv-lite-umd/lib/iconv-lite-umd.js",jschardet:"../node_modules/jschardet/dist/jschardet.min.js"}:d.amdModulesPattern=/^vs\//,r.nodeCachedDataDir&&(d.nodeCachedData={path:r.nodeCachedDataDir,seed:n.join("")}),typeof(e==null?void 0:e.beforeLoaderConfig)=="function"&&e.beforeLoaderConfig(d),require.config(d),v.pseudo&&require(["vs/nls"],function(i){i.setPseudoTranslation(v.pseudo)}),typeof(e==null?void 0:e.beforeRequire)=="function"&&e.beforeRequire(),require(n,async i=>{try{performance.mark("code/willWaitForShellEnv"),o.env.VSCODE_SKIP_PROCESS_ENV_PATCHING||await o.shellEnv(),performance.mark("code/didWaitForShellEnv");const w=s(i,r);w instanceof Promise&&(await w,D&&l&&D())}catch(w){p(w,h)}},p)}function _(n){const s=a.ipcRenderer,e=function(t){return[t.ctrlKey?"ctrl-":"",t.metaKey?"meta-":"",t.altKey?"alt-":"",t.shiftKey?"shift-":"",t.keyCode].join("")},m=o.platform==="darwin"?"meta-alt-73":"ctrl-shift-73",r="123",g=o.platform==="darwin"?"meta-82":"ctrl-82";let c=function(t){const l=e(t);l===m||l===r?s.send("vscode:toggleDevTools"):l===g&&!n&&s.send("vscode:reloadWindow")};return window.addEventListener("keydown",c),function(){c&&(window.removeEventListener("keydown",c),c=void 0)}}function p(n,s){s&&a.ipcRenderer.send("vscode:openDevTools"),console.error(`[uncaught exception]: ${n}`),n&&typeof n!="string"&&n.stack&&console.error(n.stack)}function x(){return window.MonacoBootstrap}function S(){return window.vscode}return{load:E}});

//# sourceMappingURL=bootstrap-window.js.map
